var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _reactNative=require("react-native");var IubendaService=function(){function IubendaService(siteId,cookiePolicyId){(0,_classCallCheck2.default)(this,IubendaService);this.siteId=siteId;this.cookiePolicyId=cookiePolicyId;this.IubendaBridge=_reactNative.NativeModules.IubendaBridge;if(!this.IubendaBridge){console.error('Errore: Il modulo IubendaBridge non Ã¨ disponibile!');}}return(0,_createClass2.default)(IubendaService,[{key:"initialize",value:function(){var _initialize=(0,_asyncToGenerator2.default)(function*(){if(!this.IubendaBridge){console.error('IubendaBridge non disponibile.');return false;}try{var config={gdprEnabled:true,forceConsent:true,siteId:this.siteId,cookiePolicyId:this.cookiePolicyId};yield this.IubendaBridge.initialize(config);console.log('Iubenda inizializzato correttamente.');return true;}catch(error){console.error('Errore durante l\'inizializzazione di Iubenda:',error);return false;}});function initialize(){return _initialize.apply(this,arguments);}return initialize;}()},{key:"askConsent",value:function askConsent(){if(!this.IubendaBridge){console.warn('IubendaBridge non disponibile per chiedere il consenso.');return;}try{this.IubendaBridge.askConsent();console.log('Consenso richiesto.');}catch(error){console.error('Errore durante la richiesta di consenso:',error);}}},{key:"getConsentStatus",value:function(){var _getConsentStatus=(0,_asyncToGenerator2.default)(function*(){if(!this.IubendaBridge){console.warn('IubendaBridge non disponibile per ottenere lo stato del consenso.');return Promise.reject('IubendaBridge non disponibile.');}try{var status=yield this.IubendaBridge.getConsentStatus();console.log('Stato del consenso:',status);return status;}catch(error){console.error('Errore durante il recupero dello stato del consenso:',error);throw error;}});function getConsentStatus(){return _getConsentStatus.apply(this,arguments);}return getConsentStatus;}()}]);}();var _default=exports.default=IubendaService;